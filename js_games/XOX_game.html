<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XOX</title>

    <style>

        .text{
            text-align: center;
        }

        .container{
            display: flex; /*flex her zaman container içinde*/
            flex-wrap: wrap;
            justify-content: space-evenly;
            width: 250px;
            height : 250px;
            border:  4px solid black;
            margin-left: 500px;
            position: absolute;
            
        }

        .box{
            width: 50px;
            height: 50px;
            border: 5px;
            background-color : lightblue;
            margin : 10px;
            box-sizing: border-box;
            padding : 18.5px;
        }

    </style>
</head>
<body>

    <div class="text"> -----XOX GAME-----</div>
    <div class = "container">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    
   
</div>

<script>

    function control(kutu){

        for(var i = 0; i<3; i++){
            var temp = 0;
                if(!kutu[i][temp].innerHTML == "" && kutu[i][temp].innerHTML == kutu[i][temp+1].innerHTML && kutu[i][temp].innerHTML== kutu[i][temp+2].innerHTML){
                    kutu[i][temp].style.background = "lightgreen";
                    kutu[i][temp+1].style.background = "lightgreen";
                    kutu[i][temp+2].style.background = "lightgreen";
                    return true;
                }

                if(!kutu[temp][i].innerHTML == "" && kutu[temp][i].innerHTML == kutu[temp+1][i].innerHTML && kutu[temp][i].innerHTML == kutu[temp+2][i].innerHTML){
                    kutu[temp][i].style.background = "lightgreen";
                    kutu[temp+1][i].style.background = "lightgreen";
                    kutu[temp+2][i].style.background = "lightgreen";
                    return true;
                }
        }

        if(!kutu[0][0].innerHTML == "" && kutu[0][0].innerHTML == kutu[1][1].innerHTML && kutu[0][0].innerHTML== kutu[2][2].innerHTML){
            kutu[0][0].style.background = "lightgreen";
            kutu[1][1].style.background = "lightgreen";
            kutu[2][2].style.background = "lightgreen";
            return true;
            }
        
        if(!kutu[0][2].innerHTML == "" && kutu[0][2].innerHTML == kutu[1][1].innerHTML && kutu[0][2].innerHTML== kutu[2][0].innerHTML){
            kutu[0][2].style.background = "lightgreen";
            kutu[1][1].style.background = "lightgreen";
            kutu[2][0].style.background = "lightgreen";
            return true;
        }


        for(var i = 0; i<3; i++){

            for(var j = 0; j<3; j++){

                if(kutu[i][j].innerHTML == ""){
                    return false;
                }

                if(i== 2 &&  j == 2){
                    return true;
                }
            }
        }
        
        return false;
    }


    function take_point(){

        this.innerHTML = "X";

        var pointed = false;

        var kutular2 = [];

        for (i = 0, k = -1; i < kutular.length; i++) {
        
            if (i % 3 === 0) {
             k++;
             kutular2[k] = [];
            }

        kutular2[k].push(kutular[i]); /*push diziye
        ekleme yaparken kullanılıyordu unutmuşuz.*/
        }


        if(control(kutular2)){

            alert("Oyunu Kazandınız.Tebrikler !!!");
            return;
        }

        while(!pointed){
            var cc1 = Math.random()*3;
            var cc2 = Math.random()*3;

            cc1 = Math.floor(cc1);
            cc2 = Math.floor(cc2);

            if(!(kutular2[cc1][cc2].innerHTML == "")){
                continue;
            }

            kutular2[cc1][cc2].innerHTML = "O";
            pointed = true;
    }

    if(control(kutular2)){

        alert("Oyunu kaybettiniz !!!");
        return;
    }

    }

    var finish = false;
    var kutular = document.querySelectorAll('.box'); 


    for(var i = 0; i<10; i++){
        kutular[i].addEventListener('click',take_point);
    }

    </script>

</body>
</html>